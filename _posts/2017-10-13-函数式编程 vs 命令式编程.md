---
title: 函数式编程 vs 命令式编程
date: 2017-10-05 11：16：50
description: 最初想到这个问题是在编写一个回溯算法的时候，采用了两种不同的编程风格，一种是函数式编程，一种是命令式编程方法，不过也仅仅只是带有一种倾向，并非纯粹的函数式，一般很难像haskell一样做到纯函数式编程
---

### 什么是函数式编程？
我更加倾向于把函数式编程认为是一种真正的创造过程，像乐高积木一样，每一个小的函数组成一个更大的函数，函数套函数，甚至函数可以作为参数进行传递，最后形成一个巨型函数，光看函数名字根本不知道函数内部的实现。但是他的优缺点也显而易见。
- 优点
1. 代码精简，而且更符合人的思维，语义和自然语言非常相似
2. 引用透明，并且没有副作用（函数不会修改外部的状态，函数调用的时间和位置，单元测试和调试都更简单）
3. 不会造成资源争用，也就不会有锁和死锁这样的东西出现，这样可以更好的并发，在SMP架构下可以更好利用多个处理器提供的并行处理能力。
- 缺点
1. 它也有不擅长的情况，处理可变状态和处理IO（但也有相应的处理方法，可以引入可变变量，通过Monad来进行封装）
2. 难学是最大的缺陷。。。假如智商够用，简直完美。

#### 函数式编程与命令式编程示例
为了更加深刻理解两者之间的区别和联系，以下就举了一些例子进行说明（转载自作者nameoverflow）

---

**目标：写一棵镜像树**
- 命令式
> python2代码
```python
def invertTree(root):
if root is None:
return None
if root.left:
invertTree(root.left)
if root.right:
invertTree(root.right)
root.left, root.right = root.right, root.left
return root
```

- 函数式
> python2代码

```python
def invert(node):
if node is None:
return None
else
return Tree(node.value, invert(node.right), invert(node.left))

```
### 总结
- 函数式编程关心数据的映射，命令式编程关心解决问题的步骤
- 函数式编程关心类型（代数结构）之间的关系，命令式编程关心解决问题的步骤