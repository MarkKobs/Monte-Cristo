---
title: 计算的本质-深入剖析程序与计算机
date: 2020-02-04 11:41:00 
tags: ruby
category: 形式化
---

## ruby上手

先以一个例子熟悉ruby的对象和方法



1. 对象、方法、消息

```ruby
o=Object.new
def o.add(x,y)
  x+y
end
o.add(2,3)
```

> 创建对象

> 定义方法：包括接收对象o，名字add和参数x、y

> 对象.消息名(方法名)（参数1，参数2）



2. 对象追踪

```ruby
def o.add_twice(x,y)
  add(x,y)+add(x,y)
end
o.add(2,3)
```

Ruby默认追踪当前对象(self)，在方法定义内部，可不必显示提及接收对象。



3. 默认main的特殊顶层对象

```ruby
def multiply(a,b)
  a*b
end
multiply(2,3)
```

在没有指明接收对象时，默认为main的特殊顶层对象。



4. 类定义与类继承

   ```ruby
class Calculator
     def add(x,y)
       x+Y
     end
   end
   ```
   
   ```ruby
class MultiplyingCalculator < Calculator
     def multiply(x,y)
       x*y
     end
   end
   ```
   
5. 模块

```ruby
module Addition
  把方法定义在这
end

class NewClass
  include Addtion
end
```



